<div class="container-fluid">
  <div class="row py-5">
    <div class="col-sm-3">
      <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
        <a class="nav-link active" id="v-pills-account-tab" data-toggle="pill" href="#v-pills-account" role="tab"
          aria-controls="v-pills-account" aria-selected="true">{{'CUSTOMERPAGE.MyAccount' | translate}}</a>
        <a class="nav-link" id="v-pills-orders-tab" data-toggle="pill" href="#v-pills-orders" role="tab"
          aria-controls="v-pills-orders" aria-selected="false">{{'CUSTOMERPAGE.Orders' | translate}}</a>
        <a class="nav-link" id="v-pills-details-tab" data-toggle="pill" href="#v-pills-details" role="tab"
          aria-controls="v-pills-details" aria-selected="false">{{'CUSTOMERPAGE.Details' | translate}}</a>
        <a class="nav-link" id="v-pills-address-tab" data-toggle="pill" href="#v-pills-address" role="tab"
          aria-controls="v-pills-address" aria-selected="false" (click)="addNewAddress('no')">{{'CUSTOMERPAGE.AddressBook' | translate}}</a>
        <a class="nav-link" id="v-pills-password-tab" data-toggle="pill" href="#v-pills-password" role="tab"
          aria-controls="v-pills-password" aria-selected="false">{{'CUSTOMERPAGE.ChangePword' | translate}}</a>
        <button class="btn btn-danger " (click)="this.custAuthService.logout()"> <i class="fa fa-sign-out"></i> {{'CUSTOMERPAGE.SignOut' | translate}} ({{fname}})</button>
      </div>
    </div>

    <div class="col-sm-9">
      <div class="tab-content" id="v-pills-tabContent">
        <div class="tab-pane fade show active" id="v-pills-account" role="tabpanel"
          aria-labelledby="v-pills-account-tab">
          <div class="container">
            <div class="row">
              <div class="col-sm-12">
                <h5>{{'CUSTOMERPAGE.AccountOver' | translate}}</h5>

              </div>


              <div class="col-sm-6">
                <div class="card">
                  <div class="card-header d-flex justify-content-between flex-sm-column flex-md-row w-100">
                    <h6>{{'CUSTOMERPAGE.AccountDets' | translate}}</h6>
                    <a href=""><i class="fa fa-pencil"></i></a>
                  </div>
                  <div class="card-body ">
                    <p class="names">{{fname}} {{lname}}</p>
                    <p class="email">{{email}}</p>
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="card">
                  <div class="card-header d-flex justify-content-between flex-sm-column flex-md-row w-100">
                    <h6>{{'CUSTOMERPAGE.AddressBook' | translate}}</h6>
                    <a href=""><i class="fa fa-pencil"></i></a>
                  </div>
                  <div class="card-body">
                    <p>{{'CUSTOMERPAGE.DefaultAdd' | translate}}</p>
                    <p>{{fname}} {{lname}} </p>

                    <p *ngIf="address || city || region"> <span>{{address}}</span> <span
                        *ngIf="(address && city) || (address && region)">,</span> <span>{{city}}</span><span
                        *ngIf="city && region">,</span> <span>{{region}}</span></p>
                    <p *ngIf="primaryPhone || secondaryPhone ">{{primaryPhone}} <span
                        *ngIf="primaryPhone && secondaryPhone ">/</span> {{secondaryPhone}}</p>

                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="v-pills-orders" role="tabpanel" aria-labelledby="v-pills-orders-tab">
          <div class="container">
            <div class="row ">
              <div class="col-sm-12">
                <h5>{{'CUSTOMERPAGE.Orders' | translate}}</h5>
              </div>

              <div class="col-sm-12">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="open-tab" data-toggle="tab" href="#open" role="tab"
                      aria-controls="open" aria-selected="true">{{'CUSTOMERPAGE.OpenOrders' | translate}}</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="closed-tab" data-toggle="tab" href="#closed" role="tab"
                      aria-controls="closed" aria-selected="false">{{'CUSTOMERPAGE.ClosedOrders' | translate}}</a>
                  </li>

                </ul>
                <div class="tab-content py-3" id="myTabContent" >
                  <div class="tab-pane fade show active" id="open" role="tabpanel" aria-labelledby="open-tab" >
                    <div class="card py-3 px-3 d-flex justify-content-between flex-sm-column flex-md-row w-100" *ngFor="let order of orders">
                      <img src="../../assets/img/menu/{{order.image}}" width="100px" alt="">
                      <div class="product-info">
                        <div class="details"><span>
                            <h6>{{order.product_name}}</h6>
                          </span> <span>- {{order.product_description}}</span></div>
                        <br>
                        <small class="order-number"> <strong>{{'CUSTOMERPAGE.OrderNumber' | translate}}</strong>
                          {{order.id_order}}</small>
                        <br>
                        <p class="badge badge-secondary mt-3" [class.badge-info] ="order.order_state == 1" [class.badge-warning] ="order.order_state == 2" [class.badge-success] ="order.order_state == 3">{{order.order_state === 1 ? 'Preparing' : order.order_state === 2 ? 'Dispatched'  : order.order_state === 3 ? 'Livr√© / Delivered' : 'Pending' }} </p>
                        <p class="delivery-date"> <strong>ON 16/09/20</strong> </p>
                      </div>
                      <a class="text-danger" routerLink="../order-details">{{'CUSTOMERPAGE.SeeDetails' | translate}}</a>

                    </div>
                  </div>
                  <div class="tab-pane fade" id="closed" role="tabpanel" aria-labelledby="closed-tab">
                    <div class=" w-100 py-3 text-center">
                      <p>{{'CUSTOMERPAGE.NoDisplay' | translate}}</p>
                    </div>
                  </div>
                </div>
              </div>





            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="v-pills-details" role="tabpanel" aria-labelledby="v-pills-details-tab">
          <div class="container">
            <div class="row ">
              <div class="col-sm-12">
                <h5>{{'CUSTOMERPAGE.Details' | translate}}</h5>

                <div class="card">

                  <div class="card-body">
                    <form [formGroup]="detailsForm" (ngSubmit)="submit('dets')">
                      <div class="row">
                        <div class="form-group col-sm-12 col-md-6">
                          <label for="">{{'CUSTOMERPAGE.FirstName' | translate}}<label
                              class="red-text">*</label></label>
                          <div class="input-group mb-2">
                            <input type="text" class="form-control" id="fname" name="fname" formControlName="fname"
                              placeholder="{{'CUSTOMERPAGE.EnterFname' | translate}}">

                          </div>
                          <!--Validation-->
                          <!-- <div *ngIf="submitted && f.fname.errors">
                                    <div *ngIf="f.fname.errors.required" class="alert alert-danger">First name is required</div>
                                  </div>-->
                        </div>

                        <div class="form-group col-sm-12 col-md-6">
                          <label for="">{{'CUSTOMERPAGE.LastName' | translate}}<label class="red-text">*</label></label>
                          <div class="input-group mb-2">
                            <input type="text" class="form-control" id="lname" name="lname" formControlName="lname"
                              placeholder="{{'CUSTOMERPAGE.EnterLname' | translate}}">
                          </div>
                          <!--Validation-->
                          <!--<div *ngIf="submitted && registerForm.get('lname').errors" class="alert alert-danger">
                                    <div *ngIf="registerForm.get('lname').errors.required">
                                      Last name is required
                                    </div>
                                  </div>-->
                        </div>

                        <div class="form-group col-sm-12 col-md-6">
                          <label for="">{{'CUSTOMERPAGE.Email' | translate}}<label class="red-text">*</label></label>
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text">@</div>
                            </div>
                            <input type="email" class="form-control" id="email" name="email" formControlName="email"
                              placeholder="{{'CUSTOMERPAGE.EnterEmail' | translate}}">
                          </div>
                        </div>

                        <div class="form-group col-sm-12 col-md-6">
                          <label for="">{{'CUSTOMERPAGE.Phone' | translate}}</label>
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text">#</div>
                            </div>
                            <input type="text" class="form-control" id="primaryPhone" name="primaryPhone" formControlName="primaryPhone"
                              placeholder="{{'CUSTOMERPAGE.EnterPhone' | translate}}">

                          </div>
                        </div>

                        <div class="col-sm-12 d-flex">
                          <button class="btn btn-warning btn-block" type="submit">
                            {{'CUSTOMERPAGE.Submit' | translate}}</button>
                        </div>

                      </div>

                    </form>
                  </div>
                </div>

              </div>
            </div>
          </div>

        </div>
        <div class="tab-pane fade" id="v-pills-address" role="tabpanel" aria-labelledby="v-pills-address-tab">
          <div class="container">
            <div class="row ">
              <div class="col-sm-12 d-flex justify-content-between flex-sm-column flex-md-row w-100">
                <h5>{{'CUSTOMERPAGE.Address' | translate}}</h5>
                <button  *ngIf="!add_new" class="btn btn-warning" (click)="addNewAddress('yes')">{{'CUSTOMERPAGE.AddNewAddress' | translate}}</button>
                
              </div>

              <div class="col-sm-6" *ngIf="!add_new">
                <div class="card">
                  <div class="card-body">
                    <p>{{'CUSTOMERPAGE.DefaultAdd' | translate}}</p>
                    <p>{{fname}} {{lname}} </p>

                    <p *ngIf="address || city || region"> <span>{{address}}</span> <span
                        *ngIf="(address && city) || (address && region)">,</span> <span>{{city}}</span><span
                        *ngIf="city && region">,</span> <span>{{region}}</span></p>
                    <p *ngIf="primaryPhone || secondaryPhone ">{{primaryPhone}} <span
                        *ngIf="primaryPhone && secondaryPhone ">/</span> {{secondaryPhone}}</p>
                    <p>{{'CUSTOMERPAGE.DefaultAddress' | translate}}</p>

                  </div>
                  <div class="card-footer d-flex justify-content-between flex-sm-column flex-md-row w-100">
                    <h6>{{'CUSTOMERPAGE.SetDefaultAdd' | translate}}</h6>
                    <i class="fa fa-pencil"></i>
                  </div>
                </div>
              </div>
              <div class="col-sm-12" *ngIf="add_new">
                <form [formGroup]="addressForm" (ngSubmit)="submit('address')">
                  <div class="row">
                    <div class="form-group col-sm-12 col-md-6">
                      <label for="">{{'CUSTOMERPAGE.FirstName' | translate}}<label
                          class="red-text">*</label></label>
                      <div class="input-group mb-2">
                        <input type="text" class="form-control" id="fname" name="fname" formControlName="fname"
                          placeholder="{{'CUSTOMERPAGE.EnterFname' | translate}}">

                      </div>
                      <!--Validation-->
                      <!-- <div *ngIf="submitted && f.fname.errors">
                                <div *ngIf="f.fname.errors.required" class="alert alert-danger">First name is required</div>
                              </div>-->
                    </div>

                    <div class="form-group col-sm-12 col-md-6">
                      <label for="">{{'CUSTOMERPAGE.LastName' | translate}}<label class="red-text">*</label></label>
                      <div class="input-group mb-2">
                        <input type="text" class="form-control" id="lname" name="lname" formControlName="lname"
                          placeholder="{{'CUSTOMERPAGE.EnterLname' | translate}}">
                      </div>
                      <!--Validation-->
                      <!--<div *ngIf="submitted && registerForm.get('lname').errors" class="alert alert-danger">
                                <div *ngIf="registerForm.get('lname').errors.required">
                                  Last name is required
                                </div>
                              </div>-->
                    </div>

                    <div class="form-group col-sm-12 col-md-6">
                      <label for="">{{'CUSTOMERPAGE.Email' | translate}}<label class="red-text">*</label></label>
                      <div class="input-group mb-2">
                        <div class="input-group-prepend">
                          <div class="input-group-text">@</div>
                        </div>
                        <input type="email" class="form-control" id="email" name="email" formControlName="email"
                          placeholder="{{'CUSTOMERPAGE.EnterEmail' | translate}}">
                      </div>
                    </div>

                    <div class="form-group col-sm-12 col-md-6">
                      <label for="">{{'CUSTOMERPAGE.Phone' | translate}}</label>
                      <div class="input-group mb-2">
                        <div class="input-group-prepend">
                          <div class="input-group-text">#</div>
                        </div>
                        <input type="text" class="form-control" id="primaryPhone" name="primaryPhone" formControlName="primaryPhone"
                          placeholder="{{'CUSTOMERPAGE.EnterPhone' | translate}}">

                      </div>
                    </div>

                    <div class="col-sm-12 d-flex">
                      <button class="btn btn-warning btn-block" type="submit">
                        {{'CUSTOMERPAGE.Submit' | translate}}</button>
                    </div>

                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="v-pills-password" role="tabpanel" aria-labelledby="v-pills-password-tab">
          <div class="container">
            <div class="row ">
              <div class="col-sm-12">
                <h5>{{'CUSTOMERPAGE.ChangePword' | translate}}</h5>
              </div>
              <div class="col-sm-6">
                <div class="card">
                  <div class="card-body">
                    <form [formGroup]="passwordForm" (ngSubmit) = "submit('pwd')">
                      <div class="row">
                        <div class="form-group col-sm-12 col-md-12">
                          <label for="">{{'CUSTOMERPAGE.CPassword' | translate}}<label
                              class="red-text">*</label></label>
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text">*</div>
                            </div>
                            <input type="text" class="form-control" id="password" name="password" formControlName="password"
                              placeholder="Enter your Current password">

                          </div>
                          <!--Validation-->
                          <!-- <div *ngIf="submitted && f.fname.errors">
                          <div *ngIf="f.fname.errors.required" class="alert alert-danger">First name is required</div>
                        </div>-->
                        </div>

                        <div class="form-group col-sm-12 col-md-12">
                          <label for="">{{'CUSTOMERPAGE.NPassword' | translate}}<label
                              class="red-text">*</label></label>
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text">*</div>
                            </div>
                            <input type="text" class="form-control" id="npassword" name="npassword" formControlName="npassword"
                              placeholder="Enter your New password">

                          </div>
                          <!--Validation-->
                          <!-- <div *ngIf="submitted && f.fname.errors">
                            <div *ngIf="f.fname.errors.required" class="alert alert-danger">First name is required</div>
                          </div>-->
                        </div>

                        <div class="form-group col-sm-12 col-md-12">
                          <label for="">{{'CUSTOMERPAGE.RPassword' | translate}}<label
                              class="red-text">*</label></label>
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text">*</div>
                            </div>
                            <input type="text" class="form-control" id="cpassword" name="cpassword" formControlName="cpassword"
                              placeholder="{{'CUSTOMERPAGE.NPassword' | translate}}">

                          </div>
                          <!--Validation-->
                          <!-- <div *ngIf="submitted && f.fname.errors">
                            <div *ngIf="f.fname.errors.required" class="alert alert-danger">First name is required</div>
                          </div>-->
                        </div>

                        <div class="col-sm-12 ">
                          <div class=" w-100 ">
                            <button class="btn btn-warning btn-block" type="submit"><i class="fa "></i>
                              {{'CUSTOMERPAGE.Submit' | translate}}</button>

                          </div>

                        </div>

                      </div>
                    </form>

                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>
